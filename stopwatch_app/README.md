# ストップウォッチアプリ MVP

Flutter で開発された時間計測・活動記録アプリケーションのMVP（Minimum Viable Product）版です。

## 機能概要

### 主な機能
- **タイマー機能**: タイマーの作成、時間計測、開始/停止/一時停止
- **記録入力機能**: 計測結果の記録、カテゴリ・タグ付け
- **記録一覧表示機能**: 保存された記録の一覧表示と削除
- **統計機能**: カテゴリ別・タグ別の活動時間をグラフで表示
- **ナビゲーション**: ボトムナビゲーションによる画面遷移

### 技術スタック
- **言語**: Dart
- **フレームワーク**: Flutter
- **状態管理**: Riverpod 2.4.9
- **データ永続化**: shared_preferences 2.2.2
- **グラフ表示**: fl_chart 0.65.0

## プロジェクト構成

```
lib/
├── main.dart                           # アプリエントリーポイント
└── src/
    ├── features/                       # 機能別モジュール
    │   ├── timer/                      # タイマー機能
    │   │   └── timer_screen.dart
    │   ├── records/                    # 記録機能
    │   │   ├── record_input_screen.dart
    │   │   └── records_list_screen.dart
    │   └── statistics/                 # 統計機能
    │       └── statistics_screen.dart
    └── shared/                         # 共通モジュール
        ├── constants/                  # 定数
        │   ├── app_colors.dart
        │   └── app_constants.dart
        ├── models/                     # データモデル
        │   ├── activity_record.dart
        │   └── timer_state.dart
        ├── providers/                  # 状態管理プロバイダー
        │   ├── timer_provider.dart
        │   ├── records_provider.dart
        │   └── categories_provider.dart
        └── services/                   # サービス層
            └── storage_service.dart
```

## セットアップ手順

### 1. 前提条件
- Flutter SDK 3.7.2 以上
- Dart SDK 2.17.0 以上

### 2. 依存関係のインストール
```bash
flutter pub get
```

### 3. アプリの実行
```bash
flutter run
```

## 使用方法

### 1. タイマー機能
1. 「タイマー」タブでタイマー名を入力
2. 「開始」ボタンで計測開始
3. 「一時停止」「停止」でタイマーを制御
4. 「停止」後に記録保存が可能

### 2. 記録保存
1. タイマー停止後、フローティングアクションボタンをタップ
2. タイマー名、カテゴリを設定
3. 必要に応じてタグを追加（最大3つ）
4. 「記録を保存」で保存完了

### 3. 記録確認
1. 「記録一覧」タブで保存された記録を確認
2. 日付別に整理された記録を表示
3. 不要な記録は削除アイコンで削除可能

### 4. 統計確認
1. 「統計」タブでカテゴリ別・タグ別の活動時間を確認
2. 横棒グラフで視覚的に時間を比較
3. 総記録数、総活動時間、平均活動時間を表示

## データ保存

- すべてのデータはデバイスのローカルストレージに保存
- アプリを削除するとデータも削除されます
- データの外部バックアップ機能は現在未実装

## アーキテクチャ

### 状態管理
- **Riverpod**: リアクティブな状態管理
- **StateNotifier**: 複雑な状態変更の管理
- **Provider**: 単純なデータの提供

### データフロー
1. UI → Provider → Service → Storage
2. Storage → Service → Provider → UI

### エラーハンドリング
- try-catch文による例外処理
- ユーザーフレンドリーなエラーメッセージ
- ローカルストレージエラーの適切な処理

## 開発・拡張について

### 追加可能な機能
- データエクスポート/インポート
- リマインダー機能
- 目標設定機能
- より詳細な統計分析
- ダークモード対応

### パフォーマンス考慮
- 効率的な状態管理
- 必要最小限のリビルド
- ローカルストレージの最適化

## トラブルシューティング

### よくある問題
1. **アプリが起動しない**: `flutter clean && flutter pub get` を実行
2. **記録が保存されない**: デバイスの容量を確認
3. **グラフが表示されない**: 記録データが存在することを確認

### デバッグ
```bash
# デバッグモードで実行
flutter run --debug

# リリースモードで実行  
flutter run --release
```

## ライセンス

このプロジェクトはMIT License下で公開されています。

## サポート

問題や質問があれば、GitHubのIssuesページでご報告ください。
